# Test batch requests for local httpbin instance
# Start httpbin locally: docker run -p 80:80 kennethreitz/httpbin
# Usage: lyocell test-requests.yaml

defaults:
  timeout: 5000
  headers:
    User-Agent: Lyocell-Test/1.0

requests:
  # 1. Simple GET request
  - url: http://localhost/get
    queryParams:
      test: "simple-get"
      id: "1"

  # 2. GET with custom headers
  - url: http://localhost/headers
    headers:
      X-Request-ID: req-001
      X-Custom-Header: test-value

  # 3. POST with JSON body
  - method: POST
    url: http://localhost/post
    body:
      username: testuser
      email: test@example.com
      age: 25
      active: true

  # 4. PUT request
  - method: PUT
    url: http://localhost/put
    body:
      id: 123
      name: Updated Name
      status: active

  # 5. DELETE request
  - method: DELETE
    url: http://localhost/delete
    queryParams:
      id: "999"

  # 6. GET request with response headers
  - url: http://localhost/response-headers
    queryParams:
      X-Custom-Response: test-response
      Cache-Control: no-cache

  # 7. GET with delay (2 seconds)
  - url: http://localhost/delay/2
    timeout: 3000

  # 8. GET with status code
  - url: http://localhost/status/200

  # 9. POST with form-like data
  - method: POST
    url: http://localhost/post
    headers:
      Content-Type: application/json
    body:
      form_field1: value1
      form_field2: value2
      nested:
        key: nested_value

  # 10. GET with Basic Auth
  - url: http://localhost/basic-auth/user/passwd
    headers:
      Authorization: Basic dXNlcjpwYXNzd2Q=
